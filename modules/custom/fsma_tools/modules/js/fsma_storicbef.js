import{u as J,_ as G,h as q,g as Q,s as X,A as Z,S as I,H as _}from"./hook-in.js";import{v,o as d,b as a,w as l,u as x,x as ee,y as le,a as r,z as ae,A as te,B as se,k as f,g as c,t as o,q as L,C as p,s as oe,V as ie,r as N,c as m,D as A,e as T,f as g,E as re,F as D,G as ne,d as b,H as de,I as O,J as K,h as ue,i as me,K as pe,L as E,n as P,M as H,j as C,N as ce,O as M,P as $,Q as W,R as fe,S as he,T as ye,U as be,W as ge,X as ve,Y as ke,Z as Ve,p as Ce}from"./vendor.js";const we={mixins:[G],data:()=>({uuid:J(),show:!1}),methods:{blurInfoTooltip(e){e.value=!1,this.show=!1}}},Te=["id"],De={class:"text-content"};function Fe(e,s,w,V,y,u){return d(),v("div",{id:`info-fab-${e.uuid}`,class:"d-inline d-flex align-center"},[a(oe,{modelValue:e.show,"onUpdate:modelValue":s[0]||(s[0]=h=>e.show=h),"max-width":"25rem"},{activator:l(({props:h})=>[a(f,L(h,{dark:"",size:"32",color:"blue",class:"information-tooltip elevation-0 =","aria-label":e.t("Extra information"),density:"comfortable"}),{append:l(()=>[a(p,{icon:"mdi:mdi-information",size:"18"})]),_:2},1040,["aria-label"])]),default:l(({isActive:h})=>[a(x,null,{default:l(()=>[a(ee,{class:"headline"}),a(le,null,{default:l(()=>[r("div",De,[ae(e.$slots,"default",{},void 0,!0)])]),_:3}),a(te,null,{default:l(()=>[a(se),a(f,{onClick:F=>u.blurInfoTooltip(h)},{default:l(()=>[c(o(e.t("close")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:3},8,["modelValue"])],8,Te)}const Se=q(we,[["render",Fe],["__scopeId","data-v-94c0b743"]]),Ue={name:"Stori",components:{ApplicationWrapper:Z,InformationFab:Se,VueDatePicker:ie},mixins:[G],data:()=>({i18n:{rowsPerPage:Drupal.t("Rows per page:")},timeout:5e3,snackShow:!1,snackMessage:"",rules:{storiValid:X},loading:!0,loadingError:!1,loadingResults:!1,loadingTable:!1,pristine:!0,tab:"search",issuer:null,issuerName:null,issuers:[],type:null,types:[],subject:null,isin:null,publishedFromMenu:!1,advPublishedFromMenu:!1,publishedFrom:null,publishedToMenu:!1,advPublishedToMenu:!1,publishedTo:null,receivedFromMenu:!1,receivedFrom:null,receivedToMenu:!1,receivedTo:null,headers:[{title:Drupal.t("Issuer"),sortable:!0,value:"companyName",width:"10%"},{title:Drupal.t("Type"),sortable:!0,value:"reportingTopicName",width:"40%"},{title:Drupal.t("Publication date"),sortable:!0,value:"datePublication",width:"20%"},{title:Drupal.t("Documents"),sortable:!1,value:"mainDocuments",width:"10%"}],result:[],resultCount:0,options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],multiSort:!1,mustSort:!1},expanded:[],changedNames:[],promise:{},issuerSelect:"",typeSelect:""}),computed:{publishedFromFormatted(){return this.publishedFrom?this.formatDate(this.publishedFrom,"DD/MM/YYYY"):""},publishedToFormatted(){return this.publishedTo?this.formatDate(this.publishedTo,"DD/MM/YYYY"):""},receivedFromFormatted(){return this.receivedFrom?this.formatDate(this.receivedFrom,"DD/MM/YYYY"):""},receivedToFormatted(){return this.receivedTo?this.formatDate(this.receivedTo,"DD/MM/YYYY"):""}},watch:{options:{handler(){this.pristine||this.tableSearch()},deep:!0}},created(){const e=I.get("Stori"),s=e.companiesChangedName().then(y=>this.changedNames=y.data),w=e.companiesAbbreviatedName().then(y=>this.issuers=y.data),V=e.documentType().then(y=>{this.types=y.data});Promise.all([s,w,V]).then(()=>{this.loading=!1}).catch(()=>{this.loading=!1,this.loadingError=!0})},methods:{getCurrentLanguage:Q,submitSearch(){this.loadingTable&&this.promise.cancel(),this.result=[],this.options.page=1,this.resultCount=0,this.loadingTable=!0,this.loadingResults=!0,this.promise=this.getResults(),this.promise.promise.then(()=>{this.loadingResults=!1,this.loadingTable=!1}).catch(()=>{this.loadingTable=!1,this.loadingResults=!1})},tableSearch(){this.loadingResults||(this.loadingTable&&this.promise.cancel(),this.loadingTable=!0,this.promise=this.getResults(),this.promise.promise.then(()=>this.loadingTable=!1).catch(e=>{(e==null?void 0:e.reason)!=="cancelled"&&(this.loadingTable=!1)}))},getResults(){let e,s,w=!1;const V=new Promise((k,U)=>{e=k,s=U});function y(k){return U=>{if(!w)return k(U)}}this.pristine=!1;const u=I.get("Stori"),{sortBy:h,sortDesc:F,page:S,itemsPerPage:t}=this.options,i=(t!==-1?t:this.resultCount)||10,n={startRowIndex:i*(S-1),pageSize:i,sortDirection:"Ascending"};return h.length>0&&(n.sortDirection=h[0].order==="desc"?"Descending":"Ascending",n.sortColumn=h[0].key),this.type&&(n.documentTypeId=this.type.documentTypeId,n.isDocumentTypeGroup=this.type.isGroup),this.publishedFrom&&(n.publicationStart=this.formatDate(this.publishedFrom,"YYYY-MM-DD")),this.publishedTo&&(n.publicationEnd=this.formatDate(this.publishedTo,"YYYY-MM-DD")),this.tab==="adv-search"?(this.issuerName&&(n.companyName=this.issuerName),this.receivedFrom&&(n.receivedStart=this.formatDate(this.receivedFrom,"YYYY-MM-DD")),this.receivedTo&&(n.receivedEnd=this.formatDate(this.receivedTo,"YYYY-MM-DD")),this.subject&&(n.title=this.subject),this.isin&&(n.isinCode=this.isin)):this.issuer&&(n.companyId=this.issuer),u.result(n).then(y(k=>{var R;const U=k.data;this.result=(R=U.storiResultItems)==null?void 0:R.map(Y=>{var z,B;return{...Y,mainDocuments:(z=Y.mainDocuments)==null?void 0:z.map(j=>({...j,downloading:!1,downloadProgress:0})),attachments:(B=Y.attachments)==null?void 0:B.map(j=>({...j,downloading:!1,downloadProgress:0}))}}),this.resultCount=U.resultCount,e()})).catch(()=>{this.showSnack(Drupal.t("Something went wrong while fetching the result data")),s()}),{promise:V,cancel:()=>{w=!0,s({reason:"cancelled"})}}},changedNameLine(e){return Drupal.t('<b class="text-primary">@oldName</b> has become <b class="text-primary">@newName</b> since @changeDate',e)},download(e){const s=I.get("Stori");function w(V){e.downloadProgress=V}e.downloading=!0,s.download({fileDataId:e.fileDataId},w).then(V=>{let y;switch(e.fileType){case"pdf":y="application/pdf";break;case"msword":y="application/msword";break;case"msexcel":y="application/vnd.ms-excel";break;case"zip":y="application/zip";break;case"html":y="text/html";break;case"xhtml":y="application/xhtml+xml";break;default:y="application/octet-stream"}const u=new Blob([V.data],{type:y}),h=window.navigator;if(h.msSaveOrOpenBlob){h.msSaveOrOpenBlob(u);return}const F=window.URL.createObjectURL(u),S=document.createElement("a");S.href=F,S.download=`${e.originalFileName}`,S.click(),setTimeout(function(){window.URL.revokeObjectURL(F)},100),e.downloading=!1,e.downloadProgress=0}).catch(()=>{this.showSnack(Drupal.t("Unable to download file at the moment")),e.downloading=!1,e.downloadProgress=0})},showSnack(e){this.snackMessage=e,this.snackShow=!0},emptyIssuerSelect(){this.$refs.issuerSelect.reset()},emptyTypeSelect(){this.$refs.typeSelect.reset()}}},Me={class:"text-h5 text-center my-7 mx-5 text-primary"},Ye={class:"d-flex ga-4"},je={class:"d-flex ga-4"},Ie={class:"d-flex align-center"},Ne={class:"d-flex align-baseline ma-n2"},Pe={class:"d-flex ga-4"},Le={class:"d-flex ga-4"},Re={class:"d-flex ga-4"},ze={class:"d-flex ga-4"},Be={class:"d-flex align-center ma-n2"},Ae={class:"text-black"},Oe={key:0,class:"item-subject"},Ke=["colspan"],Ee={class:"item-details"},He=["colspan"],$e={class:"py-4 stori__row--details"},We={class:"securities"},Ge={class:"d-flex align-center ma-n2"},qe={class:"text-black"},Je={class:"mt-6"},Qe=["innerHTML"];function Xe(e,s,w,V,y,u){const h=N("VueDatePicker"),F=N("InformationFab"),S=N("ApplicationWrapper");return d(),m(S,{class:"stori"},{default:l(()=>[e.loading?(d(),m(A,{key:0,style:{height:"400px"}},{default:l(()=>[a(T,{class:"fill-height","align-content":"center",justify:"center"},{default:l(()=>[a(g,{class:"subtitle-1 text-center",cols:"12"},{default:l(()=>[c(o(e.t("Loading data")),1)]),_:1}),a(g,{cols:"6"},{default:l(()=>[a(re,{indeterminate:"",rounded:"",height:"6"})]),_:1})]),_:1})]),_:1})):e.loadingError?(d(),m(A,{key:1,style:{height:"400px"}},{default:l(()=>[a(T,{class:"fill-height","align-content":"center",justify:"center"},{default:l(()=>[a(g,{class:"subtitle-1 text-center red--text",cols:"12"},{default:l(()=>[c(o(e.t("Unable to retrieve tool data!")),1)]),_:1})]),_:1})]),_:1})):(d(),v(D,{key:2},[r("h2",Me,o(e.t("Welcome to STORI, the Belgian official mechanism for the storage of regulated information.")),1),a(de,{"slider-color":"accent",modelValue:e.tab,"onUpdate:modelValue":s[0]||(s[0]=t=>e.tab=t),class:"mb-2"},{default:l(()=>[a(O,{color:"primary",class:"text-body-2",value:"search"},{default:l(()=>[r("span",{class:K(["px-4",{"text-grey":e.tab!=="search"}])},o(e.t("Search").toUpperCase()),3)]),_:1}),a(O,{color:"primary",class:"text-body-2",value:"adv-search"},{default:l(()=>[r("span",{class:K(["px-4",{"text-grey":e.tab!=="adv-search"}])},o(e.t("Advanced search").toUpperCase()),3)]),_:1})]),_:1},8,["modelValue"]),a(ue,{class:"stori__search-form",onSubmit:s[26]||(s[26]=me(()=>{},["prevent"]))},{default:l(()=>[a(pe,{modelValue:e.tab,"onUpdate:modelValue":s[25]||(s[25]=t=>e.tab=t)},{default:l(()=>[a(E,{value:"search"},{default:l(()=>[a(T,{class:"mb-6"},{default:l(()=>[a(g,{cols:"12",sm:"5"},{default:l(()=>[a(P,{modelValue:e.issuer,"onUpdate:modelValue":s[1]||(s[1]=t=>e.issuer=t),items:e.issuers,label:e.t("Issuer"),variant:"underlined","item-title":"abbreviation","item-value":"companyId","hide-details":"",attach:"",onKeydown:H(u.submitSearch,["enter"]),ref:"issuerSelect"},null,8,["modelValue","items","label","onKeydown"])]),_:1}),a(g,{col:"12",sm:"1"},{default:l(()=>[a(f,{icon:"mdi:mdi-delete",onClick:u.emptyIssuerSelect,class:"delete",color:"grey-darken-1",variant:"text",size:"36"},{default:l(()=>[a(p)]),_:1},8,["onClick"])]),_:1}),a(g,{cols:"12",sm:"5"},{default:l(()=>[a(P,{modelValue:e.type,"onUpdate:modelValue":s[2]||(s[2]=t=>e.type=t),items:e.types,label:e.t("Type"),"hide-details":"",attach:"",variant:"underlined",onKeydown:H(u.submitSearch,["enter"]),ref:"typeSelect","item-title":"localisedName","item-value":"localisedName","return-object":""},null,8,["modelValue","items","label","onKeydown"])]),_:1}),a(g,{col:"12",sm:"1"},{default:l(()=>[a(f,{icon:"mdi:mdi-delete",onClick:u.emptyTypeSelect,variant:"text",color:"grey-darken-1",size:"36",class:"delete"},null,8,["onClick"])]),_:1})]),_:1}),a(T,{class:"mb-6"},{default:l(()=>[a(g,{cols:"12",sm:"6"},{default:l(()=>[a(h,{locale:u.getCurrentLanguage(),format:"dd/MM/yyyy",teleport:!0,"enable-time-picker":!1,modelValue:e.publishedFrom,"onUpdate:modelValue":s[5]||(s[5]=t=>e.publishedFrom=t)},{"action-row":l(({closePicker:t,selectDate:i})=>[r("div",Ye,[a(f,{density:"compact",class:"px-4",color:"primary",onClick:t},{default:l(()=>[c(o(e.t("cancel").toUpperCase()),1)]),_:2},1032,["onClick"]),a(f,{density:"compact",class:"px-4",color:"primary",onClick:i},{default:l(()=>[c(o(e.t("OK").toUpperCase()),1)]),_:2},1032,["onClick"])])]),trigger:l(()=>[a(C,{modelValue:u.publishedFromFormatted,"onUpdate:modelValue":s[3]||(s[3]=t=>u.publishedFromFormatted=t),label:e.t("Published from"),class:"mr-8",flat:"",variant:"solo-filled",density:"compact",hint:"dd/mm/jjjj","persistent-hint":"",readonly:"",clearable:"","onClick:clear":s[4]||(s[4]=t=>e.publishedFrom=null)},{"prepend-inner":l(()=>[a(p,{color:"primary",icon:"mdi:mdi-calendar-blank"})]),_:1},8,["modelValue","label"])]),_:1},8,["locale","modelValue"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:l(()=>[a(h,{locale:u.getCurrentLanguage(),format:"dd/MM/yyyy",teleport:!0,"enable-time-picker":!1,modelValue:e.publishedTo,"onUpdate:modelValue":s[8]||(s[8]=t=>e.publishedTo=t)},{"action-row":l(({closePicker:t,selectDate:i})=>[r("div",je,[a(f,{density:"compact",class:"px-4",color:"primary",onClick:t},{default:l(()=>[c(o(e.t("cancel").toUpperCase()),1)]),_:2},1032,["onClick"]),a(f,{density:"compact",class:"px-4",color:"primary",onClick:i},{default:l(()=>[c(o(e.t("OK").toUpperCase()),1)]),_:2},1032,["onClick"])])]),trigger:l(()=>[a(C,{modelValue:u.publishedToFormatted,"onUpdate:modelValue":s[6]||(s[6]=t=>u.publishedToFormatted=t),label:e.t("Published to"),hint:"dd/mm/jjjj","persistent-hint":"",readonly:"","solo-inverted":"",flat:"",variant:"solo-filled",density:"compact",clearable:"","onClick:clear":s[7]||(s[7]=t=>e.publishedTo=null)},{"prepend-inner":l(()=>[a(p,{color:"primary",icon:"mdi:mdi-calendar-blank"})]),_:1},8,["modelValue","label"])]),_:1},8,["locale","modelValue"])]),_:1})]),_:1})]),_:1}),a(E,{class:"mb-6",value:"adv-search"},{default:l(()=>[a(T,null,{default:l(()=>[a(g,{class:"pr-4",cols:"12",sm:"6"},{default:l(()=>[r("div",Ie,[a(C,{modelValue:e.issuerName,"onUpdate:modelValue":s[9]||(s[9]=t=>e.issuerName=t),placeholder:e.t("Issuer"),"solo-inverted":"",variant:"solo-filled",density:"compact",flat:"",rules:[e.rules.storiValid]},{append:l(()=>[a(F,null,{default:l(()=>[c(o(e.t("Allows searching on part of the name, as well as official and historical names")),1)]),_:1})]),_:1},8,["modelValue","placeholder","rules"])])]),_:1}),a(g,{cols:"12",sm:"6"},{default:l(()=>[a(P,{modelValue:e.type,"onUpdate:modelValue":s[10]||(s[10]=t=>e.type=t),items:e.types,label:e.t("Type"),"hide-details":"",attach:"",variant:"underlined",class:"ml-2","item-title":"localisedName","item-value":"localisedName","return-object":""},null,8,["modelValue","items","label"])]),_:1})]),_:1}),a(T,null,{default:l(()=>[a(g,{cols:"12",sm:"6",class:"pr-6"},{default:l(()=>[a(C,{modelValue:e.subject,"onUpdate:modelValue":s[11]||(s[11]=t=>e.subject=t),placeholder:e.t("Subject of prior knowledge"),variant:"solo-filled",density:"compact",flat:"",rules:[e.rules.storiValid]},null,8,["modelValue","placeholder","rules"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:l(()=>[r("div",Ne,[a(C,{modelValue:e.isin,"onUpdate:modelValue":s[12]||(s[12]=t=>e.isin=t),placeholder:e.t("ISIN"),variant:"solo-filled",density:"compact",flat:"",class:"my-2 px-2",rules:[e.rules.storiValid]},{append:l(()=>[a(F,null,{default:l(()=>[c(o(e.t("Allows search only on the full ISIN")),1)]),_:1})]),_:1},8,["modelValue","placeholder","rules"])])]),_:1})]),_:1}),a(T,null,{default:l(()=>[a(g,{cols:"12",sm:"6",class:"pr-6"},{default:l(()=>[a(h,{locale:u.getCurrentLanguage(),format:"dd/MM/yyyy",teleport:!0,"enable-time-picker":!1,modelValue:e.publishedFrom,"onUpdate:modelValue":s[15]||(s[15]=t=>e.publishedFrom=t)},{"action-row":l(({closePicker:t,selectDate:i})=>[r("div",Pe,[a(f,{density:"compact",class:"px-4",color:"primary",onClick:t},{default:l(()=>[c(o(e.t("cancel").toUpperCase()),1)]),_:2},1032,["onClick"]),a(f,{density:"compact",class:"px-4",color:"primary",onClick:i},{default:l(()=>[c(o(e.t("OK").toUpperCase()),1)]),_:2},1032,["onClick"])])]),trigger:l(()=>[a(C,{modelValue:u.publishedFromFormatted,"onUpdate:modelValue":s[13]||(s[13]=t=>u.publishedFromFormatted=t),label:e.t("Published from"),flat:"",variant:"solo-filled",density:"compact",hint:"dd/mm/jjjj","persistent-hint":"",readonly:"",clearable:"","onClick:clear":s[14]||(s[14]=t=>e.publishedFrom=null)},{"prepend-inner":l(()=>[a(p,{color:"primary",icon:"mdi:mdi-calendar-blank"})]),_:1},8,["modelValue","label"])]),_:1},8,["locale","modelValue"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:l(()=>[a(h,{locale:u.getCurrentLanguage(),format:"dd/MM/yyyy",teleport:!0,"enable-time-picker":!1,modelValue:e.publishedTo,"onUpdate:modelValue":s[18]||(s[18]=t=>e.publishedTo=t)},{"action-row":l(({closePicker:t,selectDate:i})=>[r("div",Le,[a(f,{density:"compact",class:"px-4",color:"primary",onClick:t},{default:l(()=>[c(o(e.t("cancel").toUpperCase()),1)]),_:2},1032,["onClick"]),a(f,{density:"compact",class:"px-4",color:"primary",onClick:i},{default:l(()=>[c(o(e.t("OK").toUpperCase()),1)]),_:2},1032,["onClick"])])]),trigger:l(()=>[a(C,{modelValue:u.publishedToFormatted,"onUpdate:modelValue":s[16]||(s[16]=t=>u.publishedToFormatted=t),label:e.t("Published to"),hint:"dd/mm/jjjj","persistent-hint":"",readonly:"","solo-inverted":"",flat:"",variant:"solo-filled",density:"compact",clearable:"","onClick:clear":s[17]||(s[17]=t=>e.publishedTo=null)},{"prepend-inner":l(()=>[a(p,{color:"primary",icon:"mdi:mdi-calendar-blank"})]),_:1},8,["modelValue","label"])]),_:1},8,["locale","modelValue"])]),_:1})]),_:1}),a(T,null,{default:l(()=>[a(g,{cols:"12",sm:"6",class:"pr-2"},{default:l(()=>[a(h,{locale:u.getCurrentLanguage(),format:"dd/MM/yyyy",teleport:!0,"enable-time-picker":!1,modelValue:e.receivedFrom,"onUpdate:modelValue":s[21]||(s[21]=t=>e.receivedFrom=t)},{"action-row":l(({closePicker:t,selectDate:i})=>[r("div",Re,[a(f,{density:"compact",class:"px-4",color:"primary",onClick:t},{default:l(()=>[c(o(e.t("cancel").toUpperCase()),1)]),_:2},1032,["onClick"]),a(f,{density:"compact",class:"px-4",color:"primary",onClick:i},{default:l(()=>[c(o(e.t("OK").toUpperCase()),1)]),_:2},1032,["onClick"])])]),trigger:l(()=>[a(C,{modelValue:u.receivedFromFormatted,"onUpdate:modelValue":s[19]||(s[19]=t=>u.receivedFromFormatted=t),label:e.t("Received from"),hint:"dd/mm/jjjj","persistent-hint":"",readonly:"","solo-inverted":"",flat:"",variant:"solo-filled",density:"compact",clearable:"",class:"mr-4","onClick:clear":s[20]||(s[20]=t=>e.receivedFrom=null)},{"prepend-inner":l(()=>[a(p,{color:"primary",icon:"mdi:mdi-calendar-blank"})]),_:1},8,["modelValue","label"])]),_:1},8,["locale","modelValue"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:l(()=>[a(h,{locale:u.getCurrentLanguage(),format:"dd/MM/yyyy",teleport:!0,"enable-time-picker":!1,modelValue:e.receivedTo,"onUpdate:modelValue":s[24]||(s[24]=t=>e.receivedTo=t)},{"action-row":l(({closePicker:t,selectDate:i})=>[r("div",ze,[a(f,{density:"compact",class:"px-4",color:"primary",onClick:t},{default:l(()=>[c(o(e.t("cancel").toUpperCase()),1)]),_:2},1032,["onClick"]),a(f,{density:"compact",class:"px-4",color:"primary",onClick:i},{default:l(()=>[c(o(e.t("OK").toUpperCase()),1)]),_:2},1032,["onClick"])])]),trigger:l(()=>[a(C,{modelValue:u.receivedToFormatted,"onUpdate:modelValue":s[22]||(s[22]=t=>u.receivedToFormatted=t),label:e.t("Received to"),hint:"dd/mm/jjjj","persistent-hint":"",readonly:"","solo-inverted":"",flat:"",variant:"solo-filled",density:"compact",clearable:"","onClick:clear":s[23]||(s[23]=t=>e.receivedTo=null)},{"prepend-inner":l(()=>[a(p,{color:"primary",icon:"mdi:mdi-calendar-blank"})]),_:1},8,["modelValue","label"])]),_:1},8,["locale","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(f,{type:"submit",color:"primary",loading:e.loadingResults,class:"align-self-start px-4 mb-6",onClick:u.submitSearch},{default:l(()=>[c(o(e.t("Search").toUpperCase()),1)]),_:1},8,["loading","onClick"])]),_:1}),ne(a(ce,{headers:e.headers,items:e.result,"item-value":"requiredReportingTopicId",expanded:e.expanded,"onUpdate:expanded":s[27]||(s[27]=t=>e.expanded=t),options:e.options,"onUpdate:options":s[28]||(s[28]=t=>e.options=t),"items-length":e.resultCount,"items-per-page-options":[],"items-per-page-text":e.i18n.rowsPerPage,"items-per-page":10,loading:e.loadingTable?"primary":!1,"loading-text":e.t("Loading... Please wait"),"no-data-text":e.t("No results found"),"disable-sort":e.loadingResults,"show-expand":"",class:"elevation-1 mt-4","sort-by":e.options.sortBy},{top:l(()=>[a(fe,{color:"white",flat:""},{default:l(()=>[a(he,null,{default:l(()=>[c(o(e.t("@amount document(s) found",{"@amount":e.resultCount})),1)]),_:1})]),_:1})]),"item.datePublication":l(({item:t})=>[c(o(e.formatDate(t.datePublication,"DD/MM/YYYY HH:mm")),1)]),"item.mainDocuments":l(({item:t})=>[r("div",Be,[(d(!0),v(D,null,M(t.mainDocuments,i=>(d(),m($,{key:i.fileDataId,bottom:""},{activator:l(({props:n})=>[a(f,L({class:"ma-2",variant:"text",ref_for:!0},n,{onClick:k=>u.download(i)}),{default:l(()=>[i.downloading?(d(),m(W,{key:1,value:i.downloadProgress,color:"primary"},null,8,["value"])):(d(),v(D,{key:0},[i.fileType==="pdf"?(d(),m(p,{key:0,class:"icon-file pdf"})):b("",!0),i.fileType==="msword"?(d(),m(p,{key:1,class:"icon-file word"})):b("",!0),i.fileType==="msexcel"?(d(),m(p,{key:2,class:"icon-file excel"})):b("",!0),i.fileType==="octetstream"?(d(),m(p,{key:3,class:"icon-file other"})):b("",!0),i.fileType==="zip"?(d(),m(p,{key:4,class:"icon-file zip"})):b("",!0),i.fileType==="xbri"?(d(),m(p,{key:5,class:"icon-file zip"})):b("",!0),i.fileType==="html"?(d(),m(p,{key:6,class:"icon-file other"})):b("",!0),i.fileType==="xhtml"?(d(),m(p,{key:7,class:"icon-file other"})):b("",!0),r("span",Ae,o(i.language.toUpperCase()),1)],64))]),_:2},1040,["onClick"])]),default:l(()=>[r("span",null,o(`${i.originalFileName} [${i.size}]kB`),1)]),_:2},1024))),128))])]),"item.documentTitle":l(({item:t,columns:i})=>[t.documentTitle?(d(),v("tr",Oe,[r("td",{colspan:i.length},o(t.documentTitle),9,Ke)])):b("",!0)]),"expanded-row":l(({columns:t,item:i})=>[r("tr",Ee,[r("td",{colspan:t.length},[r("dl",$e,[r("dt",null,o(e.t("Date of deposit of document:")),1),r("dd",null,o(e.formatDate(i.dateReceived,"DD/MM/YYYY HH:mm")),1),r("dt",null,o(e.t("Company number:")),1),r("dd",null,o(i.companyNumber||""),1),r("dt",null,o(e.t("LEI:")),1),r("dd",null,o(i.lei||""),1),r("dt",null,o(e.t("Country registered office:")),1),r("dd",null,o(i.nationality||""),1),r("dt",null,o(e.t("Listed securities:")),1),r("dd",null,[r("ul",We,[(d(!0),v(D,null,M(i.isinCodes,(n,k)=>(d(),v("li",{key:`isin-${k}`},o(n?`${n.isinType||""} ${n.code||""} ${n.market||""}`:""),1))),128))])]),r("dt",null,o(e.t("Attachments")),1),r("dd",null,[r("div",Ge,[(d(!0),v(D,null,M(i.attachments,n=>(d(),m($,{key:n.fileDataId,bottom:""},{activator:l(({props:k})=>[a(f,L({class:"ma-2",ref_for:!0},k,{variant:"text",onClick:U=>u.download(n)}),{default:l(()=>[n.downloading?(d(),m(W,{key:1,value:n.downloadProgress,color:"primary"},null,8,["value"])):(d(),v(D,{key:0},[n.fileType==="pdf"?(d(),m(p,{key:0,class:"icon-file pdf"})):b("",!0),n.fileType==="msword"?(d(),m(p,{key:1,class:"icon-file word"})):b("",!0),n.fileType==="msexcel"?(d(),m(p,{key:2,class:"icon-file excel"})):b("",!0),n.fileType==="octetstream"?(d(),m(p,{key:3,class:"icon-file other"})):b("",!0),n.fileType==="zip"?(d(),m(p,{key:4,class:"icon-file zip"})):b("",!0),n.fileType==="xbri"?(d(),m(p,{key:5,class:"icon-file xbri"})):b("",!0),n.fileType==="html"?(d(),m(p,{key:6,class:"icon-file other"})):b("",!0),n.fileType==="xhtml"?(d(),m(p,{key:7,class:"icon-file other"})):b("",!0),r("span",qe,o(n.language.toUpperCase()),1)],64))]),_:2},1040,["onClick"])]),default:l(()=>[r("span",null,o(`${n.originalFileName} [${n.size}]kB`),1)]),_:2},1024))),128))])])])],8,He)])]),_:2},1032,["headers","items","expanded","options","items-length","items-per-page-text","loading","loading-text","no-data-text","disable-sort","sort-by"]),[[ye,!e.pristine]]),e.pristine?(d(),v(D,{key:0},[a(be,{class:"mt-4"}),a(ge,{disabled:"",class:"stori__changed-names-list"},{default:l(()=>[a(ve,null,{default:l(()=>[r("h3",Je,o(e.t("Recent name changes of issuers:")),1)]),_:1}),(d(!0),v(D,null,M(e.changedNames,t=>(d(),m(ke,{key:t.company.companyId,class:"full-opacity"},{default:l(()=>[a(Ve,null,{default:l(()=>[r("span",{class:"text-body-1",innerHTML:u.changedNameLine({"@oldName":t.oldName,"@newName":t.newName,"@changeDate":e.formatDate(t.changeDate,"DD/MM/YYYY")})},null,8,Qe)]),_:2},1024)]),_:2},1024))),128))]),_:1})],64)):b("",!0)],64)),a(Ce,{modelValue:e.snackShow,"onUpdate:modelValue":s[30]||(s[30]=t=>e.snackShow=t),timeout:e.timeout,rounded:"pill",color:"error"},{actions:l(()=>[a(f,{color:"blue",onClick:s[29]||(s[29]=t=>e.snackShow=!1)},{default:l(()=>[c(o(e.t("Close").toUpperCase()),1)]),_:1})]),default:l(()=>[c(o(e.t(e.snackMessage))+" ",1)]),_:1},8,["modelValue","timeout"])]),_:1})}const Ze=q(Ue,[["render",Xe],["__scopeId","data-v-c856e2dc"]]);_("fsma_stori",Ze);
